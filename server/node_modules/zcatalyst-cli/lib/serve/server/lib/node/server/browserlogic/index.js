export default async (module) => {
	let framework;
	let logic;
	if ('puppeteer' in module) {
		framework = await import('./browserlogic-puppeteer.js');
		logic = module.puppeteer;
	} else if ('playwright' in module) {
		framework = await import('./browserlogic-playwright.js');
		logic = module.playwright;
	} else if ('selenium' in module) {
		framework = await import('./browserlogic-selenium.js');
		logic = module.selenium;
	} else {
		throw new Error(`unsupported browser logic framework type`);
	}
	if (typeof logic !== 'function') {
		throw new Error('User export not a function');
	}
	return {
		constructFunctionParameters: framework.constructFunctionParameters,
		close: framework.close,
		logic
	};
}
